<!DOCTYPE html>
<html>
  <script>
    /************************/
    /*  Excercise 1, 4 - 7  */
    function Movie(name, genre, year){
      this.attributes ={
        name    : name,
        genre   : genre,
        year    : year,
        playing : false,
        stopped  : true
      };
    }
    
    Movie.prototype = {
      play: function(){
        if (this.attributes.playing){
          console.log("Already playing " + this.attributes.name);
        }
        else{
          console.log("Now I'm seeing " + this.attributes.name);
          this.attributes.playing = true;
          this.attributes.stopped = false;
        }
      },
      stop: function(){
        if (this.attributes.stopped){
          console.log(this.attributes.name + " it's already stopped");
        }
        else{
          console.log("Enough of " + this.attributes.name);
          this.attributes.stopped = true;
          this.attributes.playing = false;
        }
      },
      /* I'll test this if there's enough time later */
      /* set: function(attribute, value){
        this.hasOwnProperty(attribute)? 
      },*/
      setName: function(newName){
        this.attributes.name = newName;
      },
      setGenre: function(newGenre){
        this.attributes.genre = newGenre;
      },
      setYear: function(newYear){
        this.attributes.year = newYear;
      },
      getName: function(){
        return this.attributes.name;
      },
      getGenre: function(){
        return this.attributes.genre;
      },
      getYear: function(){
        return this.attributes.year;
      }
    };
    
    // Just for make sure
    console.log(Movie);
    console.log(Movie.prototype);
    
  
    /*****************/
    /*  Excercise 2  */
    var movie1 = new Movie("Nueve Reinas", "Thriller", 2000);
    var movie2 = new Movie("Black Hawk Down", "War", 2002);
    var movie3 = new Movie("Toy Story", "Animation", 1995);
    
    console.log(movie1);
    console.log(movie2);
    console.log(movie3);
    
    console.log(movie1.getName());
    console.log(movie2.getGenre());
    console.log(movie3.getYear());
    
    movie3.setName("Toy Story 2");
    movie3.setYear(1999); //Don't know if that's correct, but...
    console.log(movie3);
    
    movie1.play();
    movie1.play();
    movie1.stop();
    movie2.stop();
    
    
    /*****************/
    /*  Excercise 3  */
    function MovieObserver (){}
    MovieObserver.prototype = {
      isPlaying : function(movie){
        movie.attributes.playing ?
          console.log("Playing " + movie.attributes.name) : 
          console.log("Not playing " + movie.attributes.name);
      },
      isStopped : function(movie){
        movie.attributes.stopped ?
          console.log(movie.attributes.name + " is stopped") : 
          console.log(movie.attributes.name + " is not stopped");
      }
    };
    var mo = new MovieObserver();
    mo.isPlaying(movie1);
  </script>
</html>